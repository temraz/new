(function(e){var l={className:"autosizejs",append:"",callback:!1},m="hidden",q,r="fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent".split(" "),s,a=e('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>').data("autosize",!0)[0];a.style.lineHeight=
"99px";"99px"===e(a).css("lineHeight")&&r.push("lineHeight");a.style.lineHeight="";e.fn.autosize=function(g){g=e.extend({},l,g||{});a.parentNode!==document.body&&(e(document.body).append(a),a.value="\n\n\n",a.scrollTop=9E4,q=a.scrollHeight===a.scrollTop+a.clientHeight);return this.each(function(){function f(){var d,f,k;s!==b&&(s=b,a.className=g.className,e.each(r,function(b,d){a.style[d]=c.css(d)}));if(!j){j=!0;a.value=b.value+g.append;a.style.overflowY=b.style.overflowY;k=parseInt(b.style.height,
10);a.style.width=Math.max(c.width(),0)+"px";q?d=a.scrollHeight:(a.scrollTop=0,a.scrollTop=9E4,d=a.scrollTop);var h=parseInt(c.css("maxHeight"),10),h=h&&0<h?h:9E4;d>h?(d=h,f="scroll"):d<n&&(d=n);d+=p;b.style.overflowY=f||m;k!==d&&(b.style.height=d+"px",l&&g.callback.call(b,b));setTimeout(function(){j=!1},1)}}var b=this,c=e(b),n,j,k,p=0,l=e.isFunction(g.callback);if(!c.data("autosize")){if("border-box"===c.css("box-sizing")||"border-box"===c.css("-moz-box-sizing")||"border-box"===c.css("-webkit-box-sizing"))p=
c.outerHeight()-c.height();n=Math.max(parseInt(c.css("minHeight"),10)-p,c.height());k="none"===c.css("resize")||"vertical"===c.css("resize")?"none":"horizontal";c.css({overflow:m,overflowY:m,wordWrap:"break-word",resize:k}).data("autosize",!0);"onpropertychange"in b?"oninput"in b?b.oninput=b.onkeyup=f:b.onpropertychange=f:b.oninput=f;e(window).on("resize",function(){j=!1;f()});c.on("autosize",function(){j=!1;f()});f()}})}})(window.jQuery||window.Zepto);